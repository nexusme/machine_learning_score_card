# 数据处理流程（详）
---
## 缺失值处理（主要针对第三种回归）

	1. 如果某个feature包含确实值较少，先直接将这些样本删除
	2. 将需要大量填补缺失值列移至首列（不包含索引列，主要为了dataframe切片方便）
	3. 将样本集分为该缺失列有值和无值集合，有值集合作为训练集，无值集合作为测试集，根据回归求得预测值填补缺失部分//
	4. 重新调整列的顺序，将结果列（SeriousDlqin2yrs）移动到第一列，方便后续处理

## 异常值处理：

	1. 逻辑判定，比如`age`字段的值肯定要>0
	2. 箱形图异常值处理（箱线图判别异常值的原理可以google）,大致方法如下：
		Q1：1/4分位数
		Q3：3/4分位数
		IQR = Q3 – Q1
		[Q1- 1.5IQR, Q3+1.5IQR]为正常值
		[Q1- 3IQR, Q1- 1.5IQR], [Q3+1.5IQR, Q3+3IQR] 温和异常值
		不在该范围中的为极端异常值

	3. 图形化展示可以采用python matplotlib库中的boxplot方法
	4. 将异常值剔除掉

## 连续值分箱处理
	1. 比较简单的等深和等距分箱
	2. woe分箱，详情参考https://zhuanlan.zhihu.com/p/38440477
	ps: woe分箱中还需要计算infomation value，IV值可以用作特征选择，特征选择的其他方法在下面介绍


## 探索性分析数据

	1. 探索性分析主要看下原始数据的各个维度时候满足大致的正态分布（主要针对连续值字段，如年龄收入等，性别属于离散分布，不需要满足正态分布）
	2. 可以采用直方图（hist）
	3. 图形化展示可以采用python matplotlib库中的hist方法
	4. 非正态分布的数据要考虑样本是否合理？是否采样不全


## 特征选择
	1. IV值
	2. 相关系数分析
	3. L1正则化


### 数据归一化
	a) Max-Min 归一化
	b) Z-score
	c) woe
	
## 算法性能评估
    a) 将训练好的模型应用到测试集  可以尝试逻辑回归，SVM， 神经网络，随机森林算法
    b) Acurracy: 准确率是我们最常见的评价指标，而且很容易理解，就是被分对的样本数除以所有的样本数，通常来说，正确率越高，分类器越好。 
       Precision: 给出的结果有多少是正确的
       Recall: 正确的结果有多少被你给出了
       Ks: KS(Kolmogorov-Smirnov)值越大，表示模型能够将正、负客户区分开的程度越大。KS值的取值范围是[0，1] 
           通常来讲，KS>0.2即表示模型有较好的预测准确性。
    c) PR图
       ROC图 
       Ks图
   


## PS： 不要直接修改原始数据！

## 旋转图像文字示例
    ax1 = plt.gca()
    x = np.arange(0, len(x_t), 1)
    ax1.set_xticks(x)
    ax1.set_xticklabels(columns[1:])
    for label in ax1.xaxis.get_ticklabels():
    label.set_rotation(45)
    label.set_fontsize(5)



	